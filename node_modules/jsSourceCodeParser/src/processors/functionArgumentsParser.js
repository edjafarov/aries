module.exports = function(scope, index, scopes, parser) {
    if (scope.type == CONST.FUNCTION || scope.type == CONST.METHOD || scope.type == CONST.INNER_METHOD) {
        if (scope.argumentsSrc) {
            var argumentsList = scope.argumentsSrc.split(",");
            scope.arguments = [];
            argumentsList.forEach(function(arg) {
                var parsed = /\/\*\*([\w@]*)\*\/\s*(\w*)/.exec(arg);
                if (parsed) {
                    scope.arguments.push({
                        name: trim(parsed[2]),
                        annotationSrc: trim(parsed[1])
                    });
                }else{
                    scope.arguments.push({
                        name: trim(arg),
                    });
                }
            });
        }
    }
};

function trim(str) {
    str = str.replace(/^[\s"']+/, '');
    for (var i = str.length - 1; i >= 0; i--) {
        if (/[^\s"']/.test(str.charAt(i))) {
            str = str.substring(0, i + 1);
            break;
        }
    }
    return str;
}